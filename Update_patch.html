<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>N Vulnerabilities</title>
</head>

<!-- Styles -->
<style>
    html{
        font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
    }
    #chartdiv {
      width: 99%;
      height: 97vh;
    }
</style>
    
    <!-- Resources -->
    <script src="https://www.amcharts.com/lib/4/core.js"></script>
    <script src="https://www.amcharts.com/lib/4/charts.js"></script>
    <script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>

    <script src="./Vulne_Avg_data.js"></script>


<body>
     <!-- HTML -->
     <div id="chartdiv"></div>
</body>
</html>

<!-- Chart code -->
<script>
    // Themes begin
    am4core.useTheme(am4themes_animated);
    // Themes end
    
    var chart = am4core.create("chartdiv", am4charts.XYChart);

    chart.exporting.menu = new am4core.ExportMenu();

    chart.data = vulne_avg_data;

    /*let title = chart.titles.create();
    title.text = "Update / Patch";
    title.fontSize = 22;
    title.marginBottom = 20;*/
    
    var categoryAxis = chart.xAxes.push(new am4charts.CategoryAxis());
    categoryAxis.renderer.grid.template.location = 0;
    categoryAxis.dataFields.category = "name";
    categoryAxis.renderer.minGridDistance = 10;

    categoryAxis.renderer.labels.template.horizontalCenter = "right";
    categoryAxis.renderer.labels.template.verticalCenter = "middle";
    categoryAxis.renderer.labels.template.rotation = 310;
    categoryAxis.renderer.labels.template.dy = -7;
    categoryAxis.renderer.labels.template.dx = 10;
    categoryAxis.fontSize = 18;
    
    var valueAxis = chart.yAxes.push(new am4charts.ValueAxis());
    valueAxis.min = 0;
    valueAxis.max = 100;
    valueAxis.strictMinMax = true;
    valueAxis.renderer.minGridDistance = 30;
    

    
    var series = chart.series.push(new am4charts.ColumnSeries());
    series.dataFields.categoryX = "name";
    series.dataFields.valueY = "Up_Pa_Yes";
    series.columns.template.tooltipText = "{valueY.value}";
    series.columns.template.tooltipY = 0;
    series.columns.template.strokeOpacity = 0;
    series.stacked = true;

    series.fill = am4core.color("#5499C7"); series.stroke = am4core.color("#5499C7"); 

    var valueLabel = series.bullets.push(new am4charts.LabelBullet());
    valueLabel.label.text = "{valueY.value}%";
    valueLabel.label.dy = 12;
    valueLabel.label.fontSize = 16;
    valueLabel.label.fill = am4core.color("#fff");


    var series2 = chart.series.push(new am4charts.ColumnSeries());
    series2.dataFields.categoryX = "name";
    series2.dataFields.valueY = "Up_Pa_No";
    series2.columns.template.tooltipText = "{valueY.value}";
    series2.columns.template.tooltipY = 0;
    series2.columns.template.strokeOpacity = 0;
    series2.stacked = true;

    series2.fill = am4core.color("#CD6155"); series2.stroke = am4core.color("#CD6155");

    var valueLabel2 = series2.bullets.push(new am4charts.LabelBullet());
    valueLabel2.label.text = "{valueY.value}%";
    valueLabel2.label.dy = 12;
    valueLabel2.label.fontSize = 16;
    valueLabel2.label.fill = am4core.color("#fff");

</script>
    

    
   